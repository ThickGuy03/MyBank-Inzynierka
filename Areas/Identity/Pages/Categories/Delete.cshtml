@page
@model Inzynierka.Areas.Identity.Pages.Categories.DeleteModel
@{
    ViewData["Title"] = "Delete Category";
}

<div class="container">
    <h2>Delete Category</h2>
    <p>Are you sure you want to delete this category?</p>

    <!-- EJ2 Grid to display category details -->
    <ejs-grid id="categoryGrid" dataSource="@Model.CategoryDetails" allowPaging="true" allowSorting="true">
        <e-grid-columns>
            <e-grid-column field="TitleWithIcon" headerText="Category"></e-grid-column>
            <e-grid-column field="Type" headerText="Type" template="#typeColumnTemplate" width="150px"></e-grid-column>
        </e-grid-columns>
    </ejs-grid>

    <!-- Form to confirm deletion -->
    <form method="post" class="mt-3">
        @Html.AntiForgeryToken()
        <input type="hidden" asp-for="Category.CategoryId" />
        <button type="submit" class="btn btn-danger">Delete</button>
        <a asp-page="./Index" class="btn btn-secondary">Cancel</a>
    </form>
</div>

<script id="typeColumnTemplate" type="text/x-template">
    ${if(Type=="Income")}
        <span class="badge bg-success">${Type}</span>
    ${else}
        <span class="badge bg-danger">${Type}</span>
    ${/if}
</script>